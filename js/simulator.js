//함수 선언//
var star,man.ammo,meal,tool,type,logic,pluslogic;
var arrplus=[];
///////////////입력 부분////////////////
man     = prompt('인력');
ammo    = prompt('탄약');
meal    = prompt('식량');
tool    = prompt('부품');
type    = prompt('중제조 여부(0 일반제조/1 소투입/2 중투입/3 고투입)');
logic     = [0,0,0,0,0,0];
pluslogic = [0,0,0,0,0,0];
//////////////최소조건///////////////
if(man+ammo+meal+tool>=920)                  logic[0] = 1; // HG 최소조건
if(1)                                        logic[1] = 1; // SMG최소조건
if(man>=300 && meal>=300)                    logic[2] = 1; // RF 최소조건
if(man+ammo+meal+tool>=800)                  logic[3] = 1; // AR 최소조건
if(man>=400 && ammo>=600 && tool>=300)       logic[4] = 1; // MG 최소조건
if(man>=4000 && meal>=6000 && tool>=3000)    logic[5] = 1; // SG 최소조건
//////////////추가조건///////////////
if(man>=130 && ammo>=130 && meal>=130)       pluslogic[0] = 1; // HG 추가조건
if(man>=400 && ammo>=400)                    pluslogic[1] = 1; // SMG추가조건
if(man>=400 && meal>=400)                    pluslogic[2] = 1; // RF 추가조건
if(ammo>=400 && meal>=400)                   pluslogic[3] = 1; // AR 추가조건
if(man>=600&&ammo>=600&&meal>=100&&tool>=400)pluslogic[4] = 1; // MG 추가조건
if(man>=6000 && meal>=6000 && tool>=4000)    pluslogic[5] = 1; // SG 추가조건

////////////////난수 생성/////////////////
var Random = Math.floor(Math.random() * 100) + 1;
////////////////확률 정하기////////////////
switch(type){
	case '0' :
		if(100 >= Random && Random > 40) {var star = 2;}
		if(40  >= Random && Random > 13) {var star = 3;}
		if(13  >= Random && Random >  3) {var star = 4;}
		if(3   >= Random && Random >  0) {var star = 5;}
		break;
	case '1' :
		if(100 >= Random && Random > 60) {var star = 3;}
		if(60  >= Random && Random > 15) {var star = 4;}
		if(15  >= Random && Random >  0) {var star = 5;}
		break;
	case '2' :
		if(100 >= Random && Random > 80) {var star = 3;}
		if(80  >= Ranodm && Random > 20) {var star = 4;}
		if(20  >= Random && Random >  0) {var star = 5;}
		break;
	case '3' :
		if(100 >= Random && Random > 25) {var star = 4;}
		if(20  >= Random && Random >  0) {var star = 5;}
		break;
}

///////////////배열 정보/////////////////
// 도감번호 - 별 갯수 - 타입(0~6) - pluslogic - 확률 순서로 정렬되있음
var dolldata  = new Array
(
	'001-4-0-1-3.427' , //EX : 도감번호 1번 - 4성 - 타입 0(권총) - 추가조건 있음 - 확률 3.427
	'002-2-0-0-6.480' ,
	'003-3-0-0-2.726' ,
	'005-2-0-0-5.822' ,
	'006-3-0-0-2.795' ,
	'007-4-0-1-1.115' ,
	'008-3-0-0-1.671' ,
	'009-2-0-0-11.407' ,
	'010-2-0-0-6.093' ,
	'011-3-0-0-3.152' ,
	'012-3-0-0-2.749' ,
	'013-3-0-0-1.329' ,
	'014-3-0-0-3.675' ,
	'016-5-1-0-1.992' ,
	'017-2-1-0-1.193' ,
	'018-3-1-0-1.201' ,
	'020-5-1-1-1.635' ,
	'021-2-1-0-1.473' ,
	'022-3-1-0-0.682' ,
	'023-4-1-1-1.375' ,
	'024-2-1-0-2.151' ,
	'025-2-1-0-2.249' ,
	'026-4-1-0-2.326' ,
	'027-3-1-0-2.123' ,
	'029-3-1-1-3.123' ,
	'031-2-1-0-1.654' ,
	'032-3-1-0-1.548' ,
	'033-2-1-0-3.109' ,
	'034-3-2-0-2.530' ,
	'036-4-2-1-2.563' ,
	'037-3-2-0-2.804' ,
	'039-4-2-0-1.877' ,
	'040-2-2-0-6.178' ,
	'041-2-2-0-3.680' ,
	'042-4-2-0-1.052' ,
	'043-4-2-1-0.625' ,
	'044-3-2-0-5.116' ,
	'046-5-2-1-2.000' ,
	'047-2-2-1-4.725' ,
	'048-5-2-0-0.719' ,
	'050-5-2-1-0.269' ,
	'051-2-2-0-3.160' ,
	'052-2-2-0-6.250' ,
	'053-5-2-0-0.843' ,
	'058-3-3-0-1.380' ,
	'060-4-3-0-3.167' ,
	'061-3-3-0-1.981' ,
	'062-5-3-1-0.849' ,
	'063-2-3-0-3.032' ,
	'064-4-3-1-0.222' ,
	'065-5-3-0-2.428' ,
	'066-4-3-0-1.143' ,
	'068-2-3-0-2.806' ,
	'069-4-3-0-2.247' ,
	'070-3-3-0-2.534' ,
	'071-2-3-0-1.618' ,
	'072-4-3-1-1.439' ,
	'074-2-3-0-6.885' ,
	'075-4-4-0-3.695' ,
	'077-3-4-0-1.341' ,
	'078-4-4-0-2.362' ,
	'080-3-4-0-1.527' ,
	'081-2-4-0-3.989' ,
	'082-2-4-0-7.252' ,
	'085-4-4-1-1.817' ,
	'086-3-4-0-1.483' ,
	'087-2-4-0-1.483' ,
	'088-4-4-0-1.851' ,
	'089-3-4-0-2.546' ,
	'090-2-0-0-5.366' ,
	'091-2-0-0-5.780' ,
	'092-2-0-0-2.332' ,
	'093-2-1-0-1.802' ,
	'094-2-1-0-1.346' ,
	'095-3-2-0-0.813' ,
	'096-5-0-0-1.265' ,
	'097-5-0-1-0.635' ,
	'099-4-0-0-2.586' ,
	'100-4-0-1-2.400' ,
	'101-4-1-1-1.478' ,
	'103-4-1-1-0.950' ,
	'104-5-1-1-0.375' ,
	'105-3-3-0-4.677' ,
	'106-5-3-1-0.966' ,
	'107-2-3-0-2.775' ,
	'109-5-4-0-1.420' ,
	'110-2-4-0-6.542' ,
	'111-2-4-0-6.498' ,
	'112-5-4-1-0.454' ,
	'114-5-0-1-1.003' ,
	'115-5-1-1-0.727' ,
	'116-3-1-0-2.408' ,
	'117-4-2-0-2.191' ,
	'118-4-3-0-1.694' ,
	'120-3-3-0-4.132' ,
	'121-4-4-0-0.606' ,
	'122-5-3-0-1.335' ,
	'123-3-0-0-1.363' ,
	'125-5-4-1-0.225' ,
	'126-5-0-1-0.120' ,
	'127-5-1-1-0.478' ,
	'128-5-2-1-0.179' ,
	'129-5-3-1-0.245' ,
	'130-5-3-1-0.145' ,
	'133-2-3-0-1.827' ,
	'135-5-1-1-0.233' ,
	'137-4-1-1-0.151' ,
	'139-2-0-0-5.943' ,
	'141-2-0-0-5.780' ,
	'145-3-3-0-2.771' ,
	'146-4-2-0-2.259' ,
	'148-5-2-1-0.122' ,
	'149-4-4-0-0.748' ,
	'150-4-1-1-0.777' ,
	'152-3-5-1-4.050' ,
	'153-4-5-1-2.746' ,
	'154-3-5-0-4.450' ,
	'155-4-5-0-2.999' ,
	'156-4-5-1-1.577' ,
	'157-5-5-0-0.678' ,
	'159-3-5-1-3.686' ,
	'160-5-5-1-0.575' ,
	'162-4-5-0-2.768' ,
	'168-4-0-1-1.342' ,
	'171-4-3-1-0.630' ,
	'172-5-3-1-0.139' ,
	'173-5-4-1-0.669' ,
	'178-3-1-0-0.195' ,
	'180-4-2-0-0.192' ,
	'181-5-3-1-0.117' ,
	'183-5-0-1-0.196' ,
	'184-4-2-1-0.471' ,
	'185-4-4-0-0.322' ,
	'188-5-5-1-0.032' ,
	'189-4-5-1-0.209' ,
	'190-3-5-1-0.345' ,
	'194-5-3-1-0.034' ,
	'196-5-3-1-0.078' ,
	'197-5-2-0-0.027' ,
	'198-5-2-1-0.013' ,
	'199-4-4-0-0.076' ,
	'205-5-3-1-0.000' ,  /* an94 */
	'206-5-3-1-0.000' ,  /* ak12 */
	'212-4-0-1-0.000' ,  /*   k5   */
	'213-5-1-1-0.000' , /* C-ms */
	'215-5-3-1-0.000' , /* MDR */
	'216-4-3-0-0.000'  /* XM-8 */
);

var pluspercentage = 0; 	//인형들의 확률을 모두 더함
for(var i=0; i<dolldata.length; i++){
	var array=dolldata[i].split('-');
	if(array[1] == star){
		arrplus.push(array[4]);		//배열에 데이터 추가
	 	pluspercentage += parseFloat(array[4]);		//인형 확률 +
	}
}
pluspercentage = pluspercentage.toFixed(3); //소수점 3자리 이하 반올림
   //document.write("</br>총 합산된 퍼센트는 " , pluspercentage , "</br>");
var percent = Math.random() * pluspercentage; // 뽑기 랜덤값
percent = percent.toFixed(3); //소수점 반올림
var ab = 0;
var j = 0;
while (ab < percent && j < arrplus.length){
	ab += parseFloat(arrplus[j]);
	var last = arrplus[j];
	j++;
}
//////////////////마지막 출력부////////////////////
for(var i=0; i<dolldata.length; i++){
	var array = dolldata[i].split('-');
	if(last == array[4]){
		var number = array[0];
	}
}

document.write("제조로 뽑힌 번호는 ", number);